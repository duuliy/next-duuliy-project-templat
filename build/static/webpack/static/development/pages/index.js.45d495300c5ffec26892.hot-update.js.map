{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.45d495300c5ffec26892.hot-update.js","sources":["webpack:///./utils/env.js","webpack:///./utils/fetch.js"],"sourcesContent":["// * baseUrl: 域名地址\r\n// * routerMode: 路由模式\r\n// * baseImgPath: 图片存放地址\r\n\r\n\r\nlet baseUrl = ''; \r\nlet routerMode = 'hash';\r\nlet baseImgPath;\r\n\r\n// if (process.env.NODE_ENV == 'development') {\r\n// \tbaseUrl = '';\r\n//     baseImgPath = '/img/';\r\n// }else{\r\n// \tbaseUrl = '//elm.cangdu.org';\r\n//     baseImgPath = '//elm.cangdu.org/img/';\r\n// }\r\n\r\nexport {\r\n\tbaseUrl,\r\n\trouterMode,\r\n\tbaseImgPath\r\n}","/*\r\n* @Author: duuliy \r\n* @Date: 2018-11-15 11:17:11 \r\n* @Last Modified by: duuliy\r\n* @Last Modified time: 2018-11-15 11:17:11 \r\n*/\r\n\r\n\r\n\r\nimport axios from 'axios'\r\n// import { getToken } from './user.js'\r\nimport { baseUrl } from './env.js'\r\n// import qs from 'qs'\r\n\r\n\r\n\r\nfunction checkStatus(response) {\r\n if (response.status >= 200 && response.status < 300) {\r\n   return response;\r\n }\r\n\r\n const error = new Error(response.statusText);\r\n error.response = response;\r\n throw error;\r\n}\r\n\r\n\r\n//测试环境，服务器环境，线上环境\r\n// let baseUrl = 'http://39.108.82.150:81/index.php/api/';\r\n// let baseUrl=\"\";\r\n// if (process.server) {\r\n//     baseURL = `http://${process.env.HOST || '192.168.189.249'}:${process.env.PORT || 8887}`\r\n// }\r\n// if (!window.Promise) {\r\n//     window.Promise = Promise;\r\n// }\r\n\r\n// const token ='Bearer '+getToken();\r\nconst token ='Bearer '+'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImp0aSI6IjgyMDAwYmM2LTI0OTMtNDljNy1hOGQwLTU5MTZkZWY5ODEzMSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiYjc3OTNjODMtYmNhMy00NWM3LTkyNjktNzcwN2ZhMTM5ZjRlIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZSI6ImFkbWluIiwiQXNwTmV0LklkZW50aXR5LlNlY3VyaXR5U3RhbXAiOiJGVU9QMlpZQ0tPNFNDUzRXQ0JBREc1S1RERktLTkpNWiIsIkFwcCI6IuS6keivkemAmiIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6WyJBZG1pbmlzdHJhdG9ycyIsIkN1c3RvbWVyQXBwcm92ZSIsIkNvbXBhbnlFbXBsb3llZSJdLCJDbGFpbVR5cGVfQXBwVXNlcklkXzQ0RjhFQzk2LUQ0MzYtNDc3My1BRDQxLTJFQThCMEUxMThEOCI6IjQ1ZmEwODVmLTcxNzgtNDY0MC1iYjczLTA2ZGMwZTEwNjI3YSIsImV4cCI6MTU0OTA5NjQ0OSwiaXNzIjoiaHR0cHM6Ly93d3cuY3RjNjY2LmNvbSIsImF1ZCI6Imh0dHBzOi8vd3d3LmN0YzY2Ni5jb20ifQ.1wnLGiJAwzjv2T-mQsd9y37rQkIhX2p9U85id5T4iR0';\r\n\r\n/**\r\n* Requests a URL, returning a promise.\r\n*\r\n* @param  {string} type       The type we want to request\r\n* @param  {string} url       The URL we want to request\r\n* @param  {object} [params] The options we want to pass to \"fetch\"\r\n* @return {object}           An object containing either \"data\" or \"err\"\r\n*/\r\n\r\nconst fetch = (method, url, data) => {\r\n // const token = 'Bearer '+getToken();\r\n if (method === \"get\") {\r\n   return new Promise((resolve, reject) => {\r\n     axios.get(baseUrl + url, {\r\n         headers: {\r\n          //  'Authorization': token\r\n         }\r\n       })\r\n       .then(checkStatus)\r\n       .then(response => {\r\n         resolve(response);\r\n       })\r\n       .catch(error => {\r\n         reject(error);\r\n       });\r\n   });\r\n } else if (method === \"delete\") {\r\n   return new Promise((resovle, reject) => {\r\n     axios.delete(baseUrl + url, {\r\n         data: data,\r\n         headers: {\r\n          //  'Authorization': token\r\n         }\r\n       })\r\n       .then(checkStatus)\r\n       .then(response => {\r\n         resovle(response);\r\n       })\r\n       .catch(error => {\r\n         reject(error);\r\n       });\r\n   });\r\n } else {\r\n   return new Promise((resovle, reject) => {\r\n     axios({\r\n         method: method,\r\n         url: baseUrl + url,\r\n         data: data,\r\n         headers: {\r\n          //  'Authorization': token\r\n         }\r\n       })\r\n       .then(checkStatus)\r\n       .then(response => {\r\n         resovle(response);\r\n       })\r\n       .catch(error => {\r\n         reject(error);\r\n       });\r\n   });\r\n }\r\n};\r\n\r\nexport default fetch\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AChBA;;;;;;AASA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAEA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AAAA;AADA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAFA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAJA;AAUA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}